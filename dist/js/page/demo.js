define("common/config",[],function(){var e=function(){var e=location.host;return/dev/.test(e)?["http://localhost:8000","http://baidu.com"]:/qa/.test(e)?["http://inter.qa.net","http://baidu.com"]:["http://inter.net","http://baidu.com"]}();return{modelorgin:e[0],loginorgin:e[1],loginurl:e[1]+""}}),define("libio/ioconfig",["$"],function(e){var t={},n={};return n.login={url:"",key:"go",deal:function(e){},filter:function(e){return!1}},n.error={funname:"fail",filter:function(e){return!1}},n.ioargs={url:"",method:"GET",complete:function(e,t){},success:function(e,t,n){},error:function(e,t,n){alert("网络错误")},fail:function(e){},dealdata:function(e){return e.data},customconfig:{mode:"ajax",deallogin:!0,dealerror:!0,dealdata:!0,queue:!1,getInter:function(e){}}},n.format=function(e){},n.setTrans=function(e){if(e.constructor==Array)for(var n=0,r=e.length;n<r;n++){var i=e[n];t[i.name]=i.args||{}}},n.getTrans=function(e){return t[e]},n.globalSetup=function(t){typeof t=="object"&&e.ajaxSetup(t)},n}),define("libio/interio",["$","libio/ioconfig"],function(e,t){function n(){this.queue=[],this.inprocess=!1,this.complete=function(){}}function i(n,r){var i={};e.extend(!0,i,t.ioargs,n),t.format(i);var s=i.success,o=i.complete,u=i.customconfig.deallogin,a=i.customconfig.dealerror,f=i.customconfig.dealdata;return i.success=function(e,n,r){if(u&&typeof t.login.filter=="function"&&t.login.filter(e)){if(t.login.url!=""){var o=t.login.url,l=t.login.key+"="+encodeURIComponent(location.href);o.lastIndexOf("?")!=-1?o=o.replace(/\?/,"?"+l+"&"):o=o+"?"+l,location.href=o;return}if(typeof t.login.deal=="function"){t.login.deal(e);return}}a&&typeof t.error.filter=="function"?t.error.filter(e)?typeof i[t.error.funname]=="function"&&i[t.error.funname](e,n,r):f?typeof s=="function"&&s(i.dealdata(e,n,r),n,r):typeof s=="function"&&s(e,n,r):typeof s=="function"&&s(e,n,r)},i.customconfig.queue&&(i.complete=function(e,t){r.advance(),typeof o=="function"&&o(e,t)}),i}function s(t){var n=t.customconfig.mode,r=null,i=t.customconfig.getInter;delete t.customconfig;if(n=="ajax"){if(t.dataType==undefined||t.dataType=="")t.dataType="json";r=e.ajax(t)}else n=="jsonp"?(t.dataType="jsonp",t.crossDomain=!0,r=e.ajax(t)):n=="script"&&(t.dataType="script",t.crossDomain=!0,r=e.ajax(t));r&&typeof i=="function"&&i(r)}n.prototype.advance=function(){if(this.queue.length==0){this.inprocess=!1,typeof this.complete=="function"&&this.complete();return}var e=this.queue.shift();this.request(e,!0)},n.prototype.request=function(e,t){if(this.inprocess&&!t){this.queue.push(e);return}this.inprocess=!0,s(e)};var r={_queueobjs:[],get:function(){var e=null,t=this._queueobjs;for(var r=0,i=t.length;r<i;r++)if(t[r].inprocess==0&&t[r].lock==0){t[r].lock=!0,e=t[r];break}return e==null&&(e=new n,e.lock=!0,this._queueobjs.push(e)),e},end:function(e){var t=this._queueobjs;for(var n=0,r=t.length;n<r;n++)if(t[n]==e){t[n].lock=!1;break}}},o=new n;return{transRequest:function(n,r){if(typeof n=="string"&&n!=""){var u=t.getTrans(n);u&&u.url!=""&&(u=e.extend(!0,{},u,r||{}),u=i(u,o),u.customconfig.queue?o.request(u):s(u))}},transQueueRequest:function(n,s){if(e.isArray(n)&&n.length>0){var o=r.get();o.complete=function(){r.end(o),s&&typeof s.complete=="function"&&s.complete()};for(var u=0,a=n.length;u<a;u++){var f=n[u].name,l=n[u].args||{};if(typeof f=="string"&&f!=""){var c=t.getTrans(f);c&&c.url!=""&&(c=e.extend(!0,{},c,l||{},{customconfig:{queue:!0}}),c=i(c,o),o.request(c))}}}}}}),define("common/model",["libio/ioconfig","libio/interio","common/config"],function(e,t,n){function i(e,t,n){var r=/\{([a-zA-A]+)\}/g;return e.replace(r,function(e,r){return n?encodeURIComponent(t[r]):t[r]})}e.login.filter=function(e){return e.code=="A0002"},e.login.url=n.loginurl,e.error.filter=function(e){return e.code!="A0001"},e.ioargs.fail=function(e){alert(e.errmsg||"网络错误")},e.ioargs.crossDomain=!0;var r=n.modelorgin;return e.setTrans([{name:"main",args:{url:r+"/tracer/main/trace/{id}",method:"GET"}},{name:"userinfo",args:{url:r+"/userinfo",method:"GET"}}]),{main:function(n,r){n.url=i(e.getTrans("main").url,r,!0),t.transRequest("main",n)},userinfo:function(e){t.transRequest("userinfo",e)}}}),define("common/userinfo",["common/config","common/model"],function(e,t){var n=null,r={};return r.get=function(e){n==null?t.userinfo({success:function(t){n=t,e(n)}}):e(n)},r}),define("libjson/queryToJson",[],function(){return function(e,t){typeof t!="boolean"&&(t=!0);var n={},r=e.split("&");for(var i=0;i<r.length;i++){var s=r[i].split("=");t?n[s[0]]=decodeURIComponent(s[1]):n[s[0]]=s[1]}return n}}),define("libstr/getUrlArgs",["libjson/queryToJson"],function(e){return function(){var t=location.search.replace(/#.*$/,""),n={has:!1,data:{}};return t!=""&&(n.has=!0,t=t.substr(1),n.data=e(t)),n}}),define("common/view",["$","common/userinfo","libstr/getUrlArgs"],function(e,t,n){var r=function(){var t=null;return{show:function(){t==null?t=e('<div class="g-full-loading"></div>').appendTo("body").show():t.show()},hide:function(){t&&t.hide()}}}();return{register:function(i,s){var o={needLogin:!1};e.extend(o,s||{});var u={user:null,urlsearch:n().data,LoadingControl:r};o.needLogin?u.user=t.get(function(e){u.user=e,i(u)}):i(u)}}}),requirejs(["$","common/view"],function(e,t){t.register(function(e){console.log(e)},{needLogin:!1})}),define("page/demo",function(){});